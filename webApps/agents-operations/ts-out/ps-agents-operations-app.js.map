{"version":3,"file":"ps-agents-operations-app.js","sourceRoot":"","sources":["../src/ps-agents-operations-app.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, css, nothing, TemplateResult } from 'lit';\nimport { property, customElement, query } from 'lit/decorators.js';\nimport 'urlpattern-polyfill';\n\nimport '@material/web/labs/navigationbar/navigation-bar.js';\nimport '@material/web/labs/navigationtab/navigation-tab.js';\n//import '@material/web/labs/navigationdrawer/lib/navigation-drawer-styles.css.js';\nimport '@material/web/labs/navigationdrawer/navigation-drawer.js';\nimport '@material/web/list/list-item.js';\nimport '@material/web/list/list.js';\nimport '@material/web/icon/icon.js';\nimport '@material/web/iconbutton/icon-button.js';\nimport '@material/web/iconbutton/outlined-icon-button.js';\n//import '@material/mwc-snackbar/mwc-snackbar.js';\n\nimport {\n  applyTheme,\n  argbFromHex,\n  themeFromSourceColor,\n} from '@material/material-color-utilities';\n\nimport '@material/web/menu/menu.js';\nimport { cache } from 'lit/directives/cache.js';\n\nimport '@yrpri/webapp/common/yp-image.js';\n\n//import './chat/yp-chat-assistant.js';\nimport { Layouts } from './flexbox-literals/classes.js';\n\nimport './policies/ps-web-research.js';\n\nimport { PsServerApi } from './base/PsServerApi.js';\nimport { PsAppGlobals } from './base/PsAppGlobals.js';\n\nimport { PsAppUser } from './base/PsAppUser.js';\n\nimport './ps-home.js';\n\nimport './operations/ps-operations-manager.js';\n\nimport { TextField } from '@material/web/textfield/internal/text-field.js';\nimport { Dialog } from '@material/web/dialog/internal/dialog.js';\nimport '@material/web/dialog/dialog.js';\nimport '@material/web/button/elevated-button.js';\nimport '@material/web/textfield/outlined-text-field.js';\nimport { debug } from 'console';\nimport {\n  applyThemeWithContrast,\n  themeFromSourceColorWithContrast,\n} from '@yrpri/webapp/common/YpMaterialThemeHelper.js';\nimport { PsRouter } from './base/router/router.js';\nimport { YpBaseElement } from '@yrpri/webapp/common/yp-base-element.js';\nimport { YpFormattingHelpers } from '@yrpri/webapp/common/YpFormattingHelpers.js';\n\nconst PagesTypes = {\n  AgentsView: 1,\n};\n\ndeclare global {\n  interface Window {\n    psAppGlobals: PsAppGlobals;\n    psServerApi: PsServerApi;\n  }\n}\n\n@customElement('ps-agents-operations-app')\nexport class PsAgentOperationsWebApp extends YpBaseElement {\n  @property({ type: Number })\n  currentProjectId: number | undefined = undefined;\n\n  @property({ type: Number })\n  activeSubProblemIndex: number | undefined;\n\n  @property({ type: Number })\n  activePopulationIndex: number | undefined;\n\n  @property({ type: Number })\n  activeSolutionIndex: number | undefined;\n\n  @property({ type: Number })\n  activePolicyIndex: number | undefined;\n\n  @property({ type: Number })\n  pageIndex = PagesTypes.AgentsView;\n\n  @property({ type: Object })\n  currentMemory: any | undefined;\n\n  @property({ type: Number })\n  totalNumberOfVotes = 0;\n\n  @property({ type: Boolean })\n  showAllCosts = false;\n\n  @property({ type: String })\n  lastSnackbarText: string | undefined;\n\n  @property({ type: String })\n  collectionType = 'domain';\n\n  @property({ type: String })\n  earlName!: string;\n\n  @property({ type: String })\n  currentError: string | undefined;\n\n  @property({ type: String })\n  forceGetBackupForProject: string | undefined;\n\n  @property({ type: String })\n  tempPassword: string | undefined;\n\n  @property({ type: String })\n  localStorageThemeColorKey = 'md3-agents-ops-theme-color-v28';\n\n  @property({ type: String })\n  themeColor = '#1051ca';\n\n  @property({ type: String })\n  themePrimaryColor = '#000000';\n\n  @property({ type: String })\n  themeSecondaryColor = '#000000';\n\n  @property({ type: String })\n  themeTertiaryColor = '#000000';\n\n  @property({ type: String })\n  themeNeutralColor = '#000000';\n\n  @property({ type: String })\n  themeNeutralVariantColor = '#000000';\n\n  @property({ type: String })\n  themeScheme: MaterialColorScheme = 'tonal';\n\n  @property({ type: String })\n  themeVariant: MaterialDynamicVariants | undefined;\n\n  @property({ type: Boolean })\n  themeHighContrast = false;\n\n  @property({ type: Boolean })\n  isAdmin = false;\n\n  @property({ type: Boolean })\n  surveyClosed = false;\n\n  @property({ type: String })\n  appearanceLookup!: string;\n\n  @property({ type: String })\n  currentLeftAnswer: string;\n\n  @property({ type: String })\n  currentRightAnswer: string;\n\n  @property({ type: Number })\n  numberOfSolutionsGenerations = 0;\n\n  @property({ type: Number })\n  numberOfPoliciesIdeasGeneration = 0;\n\n  @property({ type: Number })\n  totalSolutions = 0;\n\n  @property({ type: Number })\n  totalPros = 0;\n\n  @property({ type: Number })\n  totalCons = 0;\n\n  constructor() {\n    super();\n\n    window.psServerApi = new PsServerApi();\n    window.appGlobals = window.psAppGlobals = new PsAppGlobals(window.psServerApi);\n    window.appGlobals.theme = {} as any;\n    window.appGlobals.setupTranslationSystem();\n    window.appUser = new PsAppUser(window.psServerApi);\n\n    // Set this.themeDarkMode from localStorage or otherwise to true\n    const savedDarkMode = localStorage.getItem('md3-ps-dark-mode');\n    if (savedDarkMode) {\n      this.themeDarkMode = true;\n    } else {\n      this.themeDarkMode = false;\n    }\n\n    const savedHighContrastMode = localStorage.getItem(\n      'md3-ps-high-contrast-mode'\n    );\n    if (savedHighContrastMode) {\n      this.themeHighContrast = true;\n    } else {\n      this.themeHighContrast = false;\n    }\n\n    window.psAppGlobals.activity('pageview');\n\n    this.setupDebugScroll();\n  }\n\n  setupDebugScroll() {\n    let isScrolling = false;\n    let scrollInterval: string | number | NodeJS.Timeout;\n\n    const startScrolling = () => {\n      if (!isScrolling) {\n        isScrolling = true;\n        scrollInterval = setInterval(() => {\n          window.scrollBy(0, 1); // Scroll down by 10 pixels\n        }, 4); // Every 100 milliseconds\n      }\n    };\n\n    const stopScrolling = () => {\n      if (isScrolling) {\n        clearInterval(scrollInterval);\n        isScrolling = false;\n      }\n    };\n\n    window.addEventListener('keydown', event => {\n      if (event.key === 's' && !isScrolling) {\n        startScrolling();\n      }\n    });\n\n    window.addEventListener('keyup', event => {\n      if (event.key === 's') {\n        stopScrolling();\n      }\n    });\n  }\n\n  router: PsRouter = new PsRouter(\n    this,\n    [\n      {\n        path: '/',\n        render: () => {\n          return html`<ps-home .memory=\"${this.currentMemory}\"></ps-home>`;\n        },\n      },\n      {\n        path: '/agent/:agentId/',\n        render: params => {\n          return this.renderAgentPage(params.agentId);\n        },\n      },\n      {\n        path: '/agent/:agentId',\n        render: params => {\n          return this.renderAgentPage(params.agentId);\n        },\n      },\n      {\n        path: '/agent',\n        render: params => {\n          return this.renderAgentPage();\n        },\n      },\n      {\n        path: '/agent/',\n        render: params => {\n          return this.renderAgentPage();\n        },\n      },\n    ],\n    {\n      fallback: {\n        render: () => html`<h2>Page not found</h2>`,\n      },\n    }\n  );\n\n  renderAgentPage(agentId: string | undefined = undefined) {\n    return html`\n      <ps-operations-manager\n        .currentAgentId=\"${agentId}\"\n        =\"${agentId}\"\n      ></ps-operations-manager>\n    `;\n  }\n\n  getServerUrlFromClusterId(clusterId: number) {\n    if (clusterId == 1) {\n      return 'https://betrireykjavik.is/api';\n    } else if (clusterId == 3) {\n      return 'https://ypus.org/api';\n    } else {\n      return 'https://yrpri.org/api';\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._setupEventListeners();\n\n    const savedColor = localStorage.getItem(this.localStorageThemeColorKey);\n    if (savedColor) {\n      this.fireGlobal('yp-theme-color', savedColor);\n    }\n\n    this.setupTheme();\n\n    setTimeout(() => {\n      //this.themeDarkMode = true;\n    }, 1000);\n  }\n\n  async boot() {\n    window.psAppGlobals.activity('Boot - fetch start');\n    const firstBootResponse = (await window.psServerApi.getProject(\n      this.currentProjectId,\n      this.tempPassword,\n      location.pathname.indexOf('refresh827cDb') > -1 ? '999' : undefined\n    )) as CpsBootResponse | { needsTrm: boolean };\n\n    if (firstBootResponse && 'needsTrm' in firstBootResponse) {\n      if (this.tempPassword) {\n        await new Promise(resolve => setTimeout(resolve, 2000));\n      }\n      window.psAppGlobals.activity('Boot - needs trm');\n    } else {\n      const bootResponse = firstBootResponse as CpsBootResponse;\n\n      this.currentMemory = bootResponse.currentMemory;\n\n      document.title = bootResponse.name;\n\n      if (bootResponse.isAdmin === true) {\n        this.isAdmin = true;\n      } else {\n        this.isAdmin = false;\n      }\n\n      this.themeColor = bootResponse.configuration.theme_color\n        ? bootResponse.configuration.theme_color\n        : '#df2302';\n      this.themePrimaryColor = bootResponse.configuration.theme_primary_color;\n      this.themeSecondaryColor =\n        bootResponse.configuration.theme_secondary_color;\n      this.themeTertiaryColor = bootResponse.configuration.theme_tertiary_color;\n      this.themeNeutralColor = bootResponse.configuration.theme_neutral_color;\n      this.themeScheme = bootResponse.configuration.theme_scheme\n        ? bootResponse.configuration.theme_scheme.toLowerCase()\n        : 'tonal';\n\n      this.themeChanged();\n\n      window.psAppGlobals.activity('Boot - fetch end');\n    }\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this._removeEventListeners();\n  }\n\n  getHexColor(color: string) {\n    if (color) {\n      // Replace all # with nothing\n      color = color.replace(/#/g, '');\n      if (color.length === 6) {\n        return `#${color}`;\n      } else {\n        return undefined;\n      }\n    } else {\n      return undefined;\n    }\n  }\n\n  themeChanged(target: HTMLElement | undefined = undefined) {\n    let themeCss = {} as any;\n\n    // Save this.themeColor to locale storage\n    localStorage.setItem(this.localStorageThemeColorKey, this.themeColor);\n\n    const isDark =\n      this.themeDarkMode === undefined\n        ? window.matchMedia('(prefers-color-scheme: dark)').matches\n        : this.themeDarkMode;\n\n    if (this.isAppleDevice) {\n      const theme = themeFromSourceColor(\n        argbFromHex(this.themeColor || this.themePrimaryColor || '#000000'),\n        [\n          {\n            name: 'up-vote',\n            value: argbFromHex('#0F0'),\n            blend: true,\n          },\n          {\n            name: 'down-vote',\n            value: argbFromHex('#F00'),\n            blend: true,\n          },\n        ]\n      );\n\n      applyTheme(theme, { target: document.body, dark: isDark });\n    } else {\n      if (this.getHexColor(this.themeColor)) {\n        themeCss = themeFromSourceColorWithContrast(\n          this.getHexColor(this.themeColor),\n          this.themeVariant,\n          isDark,\n          this.themeScheme,\n          this.themeHighContrast ? 2.0 : 0.0\n        );\n      } else {\n        themeCss = themeFromSourceColorWithContrast(\n          {\n            primary: this.getHexColor(this.themePrimaryColor || '#000000'),\n            secondary: this.getHexColor(this.themeSecondaryColor || '#000000'),\n            tertiary: this.getHexColor(this.themeTertiaryColor || '#000000'),\n            neutral: this.getHexColor(this.themeNeutralColor || '#000000'),\n            neutralVariant: this.getHexColor(\n              this.themeNeutralVariantColor || '#000000'\n            ),\n          },\n          this.themeVariant,\n          isDark,\n          'dynamic',\n          this.themeHighContrast ? 2.0 : 0.0\n        );\n      }\n\n      applyThemeWithContrast(document, themeCss);\n    }\n  }\n\n  snackbarclosed() {\n    this.lastSnackbarText = undefined;\n  }\n\n\n  async _displaySnackbar(event: CustomEvent) {\n    this.lastSnackbarText = event.detail;\n    await this.updateComplete;\n    //(this.$$('#snackbar') as Snackbar).show();\n  }\n\n  _setupEventListeners() {\n    this.addListener('app-error', this._appError);\n    this.addListener('display-snackbar', this._displaySnackbar);\n    this.addListener('toggle-dark-mode', this.toggleDarkMode.bind(this));\n    this.addListener(\n      'toggle-high-contrast-mode',\n      this.toggleHighContrastMode.bind(this)\n    );\n\n    window.addEventListener('popstate', () => {\n      //console.error(`pop state ${window.location.pathname}`)\n      this.router.goto(window.location.pathname);\n      this.requestUpdate();\n    });\n  }\n\n  _removeEventListeners() {\n    this.removeListener('display-snackbar', this._displaySnackbar);\n    this.removeListener('app-error', this._appError);\n    this.removeListener('toggle-dark-mode', this.toggleDarkMode.bind(this));\n    this.removeListener(\n      'toggle-high-contrast-mode',\n      this.toggleHighContrastMode.bind(this)\n    );\n  }\n\n  updated(changedProperties: Map<string | number | symbol, unknown>): void {\n    super.updated(changedProperties);\n    if (\n      changedProperties.has('themeColor') ||\n      changedProperties.has('themeDarkMode')\n    ) {\n      this.themeChanged();\n    }\n  }\n\n  _appError(event: CustomEvent) {\n    console.error(event.detail.message);\n    this.currentError = event.detail.message;\n    //(this.$$('#errorDialog') as Dialog).open = true;\n  }\n\n  get adminConfirmed() {\n    return true;\n  }\n\n  _settingsColorChanged(event: CustomEvent) {\n    this.fireGlobal('yp-theme-color', event.detail.value);\n  }\n\n  static get styles() {\n    return [\n      Layouts,\n      css`\n      `,\n    ];\n  }\n\n  updateThemeColor(event: CustomEvent) {\n    this.themeColor = event.detail;\n  }\n\n\n\n  toggleDarkMode() {\n    this.themeDarkMode = !this.themeDarkMode;\n    if (this.themeDarkMode) {\n      window.psAppGlobals.activity('Settings - dark mode');\n      localStorage.setItem('md3-ps-dark-mode', 'true');\n    } else {\n      window.psAppGlobals.activity('Settings - light mode');\n      localStorage.removeItem('md3-ps-dark-mode');\n    }\n    this.themeChanged();\n  }\n\n  toggleHighContrastMode() {\n    this.themeHighContrast = !this.themeHighContrast;\n    if (this.themeHighContrast) {\n      window.psAppGlobals.activity('Settings - high contrast mode');\n      localStorage.setItem('md3-ps-high-contrast-mode', 'true');\n    } else {\n      window.psAppGlobals.activity('Settings - non high contrast mode');\n      localStorage.removeItem('md3-ps-high-contrast-mode');\n    }\n    this.themeChanged();\n  }\n\n  setupTheme() {\n    // Read dark mode and theme from localestore and set this.themeDarkMode and this.themeColor and change the theme\n    const savedDarkMode = localStorage.getItem('md3-ps-dark-mode');\n    if (savedDarkMode) {\n      this.themeDarkMode = true;\n    } else {\n      this.themeDarkMode = false;\n    }\n\n    const savedHighContrastMode = localStorage.getItem(\n      'md3-ps-high-contrast-mode'\n    );\n\n    if (savedHighContrastMode) {\n      this.themeHighContrast = true;\n    } else {\n      this.themeHighContrast = false;\n    }\n\n    const savedThemeColor = localStorage.getItem(\n      this.localStorageThemeColorKey\n    );\n    if (savedThemeColor) {\n      this.themeColor = savedThemeColor;\n    }\n\n    this.fire('yp-theme-dark-mode', this.themeDarkMode);\n\n    this.themeChanged();\n  }\n\n  toCamelCase(str: string) {\n    return str.replace(/-([a-z])/g, function (g) {\n      return g[1].toUpperCase();\n    });\n  }\n\n  renderContentOrLoader(content: TemplateResult) {\n    if (this.currentMemory) {\n      return content;\n    } else {\n      return html`\n        <div class=\"loading\">\n          <md-circular-progress indeterminate></md-circular-progress>\n        </div>\n      `;\n    }\n  }\n\n  handleShowMore(event: CustomEvent) {\n    event.preventDefault();\n    this.showAllCosts = true;\n  }\n\n  renderThemeToggle(hideText = false) {\n    return html`<div class=\"layout vertical center-center lightDarkContainer\">\n        ${!this.themeDarkMode\n          ? html`\n              <md-outlined-icon-button\n                class=\"darkModeButton\"\n                @click=\"${this.toggleDarkMode}\"\n                ><md-icon>dark_mode</md-icon></md-outlined-icon-button\n              >\n            `\n          : html`\n              <md-outlined-icon-button\n                class=\"darkModeButton\"\n                @click=\"${this.toggleDarkMode}\"\n                ><md-icon>light_mode</md-icon></md-outlined-icon-button\n              >\n            `}\n        <div ?hidden=\"${hideText}\">${this.t('Light/Dark')}</div>\n      </div>\n\n      <div\n        class=\"layout vertical center-center lightDarkContainer\"\n        ?hidden=\"${this.isAppleDevice}\"\n      >\n        ${!this.themeHighContrast\n          ? html`\n            <md-outlined-icon-button\n              class=\"darkModeButton\"\n              @click=\"${this.toggleHighContrastMode}\"\n              ><md-icon>contrast</md-icon></md-outlined-icon-button\n            >\n          </div> `\n          : html`\n              <md-outlined-icon-button\n                class=\"darkModeButton\"\n                @click=\"${this.toggleHighContrastMode}\"\n                ><md-icon>contrast_rtl_off</md-icon></md-outlined-icon-button\n              >\n            `}\n        <div ?hidden=\"${hideText}\">${this.t('Contrast')}</div>\n      </div>`;\n  }\n\n  render() {\n    return html`\n    ${this.router.outlet()}\n\n    </div>\n      ${\n        this.lastSnackbarText\n          ? html`\n              <mwc-snackbar\n                id=\"snackbar\"\n                @MDCSnackbar:closed=\"${this.snackbarclosed}\"\n                style=\"text-align: center;\"\n                .labelText=\"${this.lastSnackbarText}\"\n              ></mwc-snackbar>\n            `\n          : nothing\n      }\n      `;\n  }\n}\n"]}